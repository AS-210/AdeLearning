<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>AdeLearning | Professional Tutor</title>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600&display=swap" rel="stylesheet">
  <link rel="stylesheet" href="style.css" />
<!-- Flatpickr CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/flatpickr/dist/flatpickr.min.css">
<!-- intl-tel-input CSS -->
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/css/intlTelInput.min.css">
</head>
<body>
  <header class="hero">
    <h1>AdeLearning</h1>
    <p>Math & Physics Tutoring (SATs, PATs, GCSE, IGCSE, AP)</p>
    <a href="#calendar" class="btn">Book a Free Trial Session</a>
  </header>

  <section class="about">
    <h2>About Me</h2>
    <p>I’m a professional tutor with 7+ years of experience helping students master math and physics. I specialize in building confidence, clarity, and results.</p>
  </section>

  <section class="subjects">
    <h2>Subjects I Teach</h2>
    <ul>
      <li>High School Physics</li>
      <li>Mathematics (All Levels)</li>
      <li>Exam Prep: IB, GCSE, SAT, etc.</li>
    </ul>
  </section>

  <section class="testimonials">
    <h2>What Parents & Students Say</h2>
    <blockquote>
      “Ade is the best tutor we've ever worked with. Patient, clear, and always prepared.”
    </blockquote>
    <blockquote>
      “Physics used to scare me. Now I actually look forward to it!”
    </blockquote>
  </section>

  <section id="contact" class="contact">
    <h2>Contact / Book a Session</h2>
    <p>First session is free! Let’s chat.</p>
    <form>
  <input type="text" name="your-name" placeholder="Your Name" required />
  <input type="text" name="student-name" placeholder="Student's Name" required />

  <!-- Phone input (with international formatting) -->
  <label for="phone">Phone Number</label>
<input id="phone" name="phone" type="tel" placeholder="+1 555-555-5555" required />

  <input type="email" name="email" placeholder="Your Email" required />

  <textarea id="message-box" name="message" placeholder="What do you need help with?" required></textarea>

 <!-- Choose a Free Session Time (moved above Send button) -->
<section id="calendar" class="calendar">
  <h2>Choose a Free Session Time</h2>

  <div class="avail-header">
    <button type="button" id="prevWeek" class="nav-btn" aria-label="Previous week">←</button>
    <div id="weekLabel"></div>
    <button type="button" id="nextWeek" class="nav-btn" aria-label="Next week">→</button>
  </div>

  <div class="grid" id="availabilityGrid" aria-live="polite"></div>

  <!-- stores the selected slot -->
  <input type="hidden" name="session_datetime" id="session_datetime" />
</section>

<button type="submit">Send</button>
</form>

  <footer>
    <p>&copy; 2025 Ade Learning</p>
  </footer>

<!-- intl-tel-input JS -->
<script src="https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/intlTelInput.min.js"></script>

<script>
  const phoneInput = document.querySelector("#phone");
  window.intlTelInput(phoneInput, {
    initialCountry: "auto",
    preferredCountries: ["us", "gb", "ng", "ca"],
    geoIpLookup: function(callback) {
      fetch('https://ipinfo.io/json?token=13e3d1ac992ad0') // Replace YOUR_TOKEN_HERE with a free token from ipinfo.io
        .then(resp => resp.json())
        .then(resp => callback(resp.country))
        .catch(() => callback('us'));
    },
    utilsScript: "https://cdn.jsdelivr.net/npm/intl-tel-input@18.1.1/build/js/utils.js"
  });
</script>

<script>
  // ---------- Availability configuration ----------
  // Hours are 24h integers. Example: Mon–Fri: 09–13, 16–19; Sat/Sun: none.
  const HOURS = [9,10,11,12,13,16,17,18,19];
  const WEEK_MAP = {0:'Sun',1:'Mon',2:'Tue',3:'Wed',4:'Thu',5:'Fri',6:'Sat'};
  const AVAILABLE_BY_DOW = {0:[],1:HOURS,2:HOURS,3:HOURS,4:HOURS,5:HOURS,6:[]}; // edit if needed

  // Window: today .. today+13 (two weeks)
  const START = new Date(); START.setHours(0,0,0,0);
  const END   = new Date(START); END.setDate(END.getDate()+13);

  // State
  let weekStart = startOfWeek(START); // Monday-start or Sunday-start: using Monday below
  let selectedISO = '';

  function startOfWeek(d){
    const x = new Date(d);
    const dow = x.getDay(); // 0 Sun ... 6 Sat
    // make Monday the first column:
    const offset = (dow === 0 ? -6 : 1 - dow);
    x.setDate(x.getDate()+offset);
    x.setHours(0,0,0,0);
    return x;
  }

  function clampToWindow(date){
    return (date >= START && date <= END);
  }

  function ymd(date){
    return date.toISOString().split('T')[0];
  }

  function labelRange(a,b){
    const fmt = (dt)=>dt.toLocaleDateString(undefined,{day:'numeric', month:'short', year:'numeric'});
    return `${fmt(a)} – ${fmt(b)}`;
  }

  function buildGrid(){
    const grid = document.getElementById('availabilityGrid');
    grid.innerHTML = '';

    const first = new Date(weekStart);
    const last  = new Date(first); last.setDate(last.getDate()+6);

    // Week label
    document.getElementById('weekLabel').textContent = labelRange(first,last);

    // header row (empty corner + weekdays)
    const headerRow = document.createElement('div');
    headerRow.className = 'row header';

    const corner = document.createElement('div'); corner.className = 'cell head time-col';
    corner.textContent = '';
    headerRow.appendChild(corner);

    // 7 days (Mon..Sun)
    for(let i=0;i<7;i++){
      const d = new Date(first); d.setDate(first.getDate()+i);
      const cell = document.createElement('div');
      cell.className = 'cell head';
      cell.innerHTML = `<div class="dow">${WEEK_MAP[d.getDay()]}</div><div class="date">${d.getDate()}</div>`;
      headerRow.appendChild(cell);
    }
    grid.appendChild(headerRow);

    // time rows
    const times = [...new Set(HOURS)].sort((a,b)=>a-b);
    times.forEach(hr=>{
      const row = document.createElement('div');
      row.className = 'row';

      // time label col
      const tlabel = document.createElement('div');
      tlabel.className = 'cell time-col';
      tlabel.textContent = `${String(hr).padStart(2,'0')}:00`;
      row.appendChild(tlabel);

      // 7 day cells
      for(let i=0;i<7;i++){
        const d = new Date(first); d.setDate(first.getDate()+i);
        const inWindow = clampToWindow(d);
        const allowed = AVAILABLE_BY_DOW[d.getDay()]?.includes(hr);
        const available = inWindow && allowed;

        const cell = document.createElement('button');
        cell.type = 'button';
        cell.className = 'cell slot ' + (available ? 'available' : 'unavailable');
        cell.disabled = !available;

        if(available){
          const iso = `${ymd(d)} ${String(hr).padStart(2,'0')}:00`;
          cell.dataset.iso = iso;
          cell.addEventListener('click', ()=>{
            // clear previous selection
            document.querySelectorAll('.cell.slot.selected').forEach(c=>c.classList.remove('selected'));
            cell.classList.add('selected');
            selectedISO = iso;
            document.getElementById('session_datetime').value = iso;
          });
        }

        row.appendChild(cell);
      }

      grid.appendChild(row);
    });

    // nav buttons state
    const prevBtn = document.getElementById('prevWeek');
    const nextBtn = document.getElementById('nextWeek');

    const prevStart = new Date(weekStart); prevStart.setDate(prevStart.getDate()-7);
    const nextStart = new Date(weekStart); nextStart.setDate(nextStart.getDate()+7);

    const prevInRange = (new Date(prevStart) >= startOfWeek(START));
    const nextInRange = (new Date(nextStart) <= startOfWeek(END));

    prevBtn.disabled = !prevInRange;
    nextBtn.disabled = !nextInRange;
  }

  document.getElementById('prevWeek').addEventListener('click', ()=>{
    weekStart.setDate(weekStart.getDate()-7);
    buildGrid();
  });
  document.getElementById('nextWeek').addEventListener('click', ()=>{
    weekStart.setDate(weekStart.getDate()+7);
    buildGrid();
  });

  // Prevent form submit without a picked slot
  document.querySelector('form').addEventListener('submit', (e)=>{
    if(!document.getElementById('session_datetime').value){
      e.preventDefault();
      alert('Select a slot (click a blue block) before sending.');
    }
  });

  buildGrid();
</script>

</body>
</html>




